{"version":3,"sources":["Components/Chat.jsx","images/avion.png","images/destination.png","images/origin.png","Components/Map.jsx","App.js","reportWebVitals.js","index.js"],"names":["socket","io","path","Chat","state","name","message","messages","onMessageChange","e","setState","target","value","onNameChange","onMessageSubmit","preventDefault","emit","executeScroll","messagesEnd","scrollIntoView","onopen","console","log","on","date","this","map","index","className","ref","el","onSubmit","onChange","label","placeholder","Component","Map","flights","getFlights","data","window","onload","L","iconUrl","plane","iconSize","destinationIcon","destination","iconAnchor","originIcon","origin","allFlights","flight","Marker","position","icon","Popup","code","Polyline","positions","color","dashArray","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","maxZoom","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c8921287.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport io from 'socket.io-client'\n\nconst socket = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\n    path: '/flights'\n});\n\nclass Chat extends Component{\n\n    state = {\n        name: \"\",\n        message: \"\",\n        messages: [],\n    };\n\n    componentDidMount() {\n        socket.onopen = () => {\n          console.log('WebSocket Client Connected');\n        };\n        socket.on(\"CHAT\", ({name, date, message}) => {\n            this.setState({messages: [ ...this.state.messages, {name, message}]})\n        });\n      }\n    componentDidUpdate() {\n        this.executeScroll();\n      }\n\n    onMessageChange = e => {\n        this.setState({ message: e.target.value})\n    }\n\n    onNameChange = e => {\n        this.setState({ name: e.target.value})\n    }\n\n    onMessageSubmit = e => {\n        e.preventDefault()\n        const name = this.state.name\n        const message = this.state.message\n        socket.emit('CHAT', { name, message })\n        this.setState({message: \"\"})\n        this.executeScroll()\n    }\n\n    executeScroll = () => {\n        this.messagesEnd.scrollIntoView()\n    }\n    \n\n    render(){\n\n        const messages = this.state.messages.map(({name, message}, index) => {\n            return (\n                    <h3 key={index}>\n                        <b>{name}: {message}</b>\n                    </h3>\n            )\n        });\n\n        return(\n            <div>\n                <h1>Chat</h1>\n                <div className=\"messages\">\n                    {messages}\n                    <div ref={(el) => {this.messagesEnd = el; }}></div> \n                </div>\n                    <form onSubmit={this.onMessageSubmit} className=\"send-message\">\n                        <div className=\"flex\">\n                            <h2>Nombre: </h2>\n                            <input\n                                name=\"name\"\n                                onChange={(e) => this.onNameChange(e)}\n                                value={this.state.name}\n                                label=\"name\"\n                                placeholder='Escribe tu nombre...'\n                            />\n                        </div>\n                        <div className=\"flex\">\n                            <h2>Mensaje:</h2>\n                            <input\n                                name=\"message\"\n                                onChange={(e) => this.onMessageChange(e)}\n                                value={this.state.message}\n                                label=\"Message\"\n                                placeholder='Escribe un mensaje...'\n                            />\n                        </div>\n                        <button>Enviar</button>\n                    </form>\n            </div>\n          )\n    }\n}\n\nexport default Chat;","export default __webpack_public_path__ + \"static/media/avion.79973fe4.png\";","export default __webpack_public_path__ + \"static/media/destination.ced3e942.png\";","export default __webpack_public_path__ + \"static/media/origin.0c00614f.png\";","import React, {Component} from 'react'\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet' \nimport 'leaflet/dist/leaflet.css';\nimport io from 'socket.io-client'\nimport * as L from \"leaflet\";\nimport '../css/map.css'\n\n// icons\nimport plane from '../images/avion.png'\nimport destination from '../images/destination.png'\nimport origin from '../images/origin.png'\n\nconst socket = io('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\n    path: '/flights'\n});\n\nclass Map extends Component{\n\n    state = {\n        flights : []\n    }\n\n    getFlights = e => {\n        e.preventDefault()\n        socket.emit('FLIGHTS')\n    }\n\n    componentDidMount() {\n        socket.on (\"FLIGHTS\",  (data) => {\n            console.log(data)\n            this.setState({flights: data})\n        })\n        window.onload = function () {\n            socket.emit('FLIGHTS')\n        }\n    }\n\n\n    render(){\n\n        const planeIcon = L.icon({\n            iconUrl: plane,\n            iconSize: [60,60]\n        });\n\n        const destinationIcon = L.icon({\n            iconUrl: destination,\n            iconSize: [25,40],\n            iconAnchor: [12, 40]\n        })\n\n        const originIcon = L.icon({\n            iconUrl: origin,\n            iconSize: [16,16],\n            iconAnchor: [8,8]\n        })\n\n        const allFlights = this.state.flights.map((flight, index) => {\n            return (\n                <div key={index}>\n                    <Marker position={[flight.origin[0], flight.origin[1]]} icon={originIcon}></Marker>\n                    <Marker position={[flight.destination[0], flight.destination[1]]} icon={destinationIcon}>\n                        <Popup>\n                        Codigo: {flight.code}\n                        </Popup>\n                    </Marker>\n                    <Polyline positions={[flight.origin, flight.destination]} color={'red'} dashArray={'20'} className='polylines'/>\n                </div>\n            )\n        });\n\n\n        return (\n            <div>\n                <h1>Mapa</h1>\n                <MapContainer center={[-34.505, -53.09]} zoom={5} scrollWheelZoom={false} className='map'>\n                    <h1>asfkjhs</h1>\n                    <TileLayer\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        maxZoom='6'\n                    />\n                    <div>{allFlights}</div>\n                    \n                </MapContainer>\n            </div>\n        );\n    }\n}\n\nexport default Map;\n\n","import React from 'react'\nimport './App.css';\nimport './css/chat.css'\nimport './css/map.css'\nimport Chat from './Components/Chat'\nimport Map from './Components/Map'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <div className=\"map-box\">\n          <Map />\n        </div>\n      <div className=\"chat-box\">\n        <Chat />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}